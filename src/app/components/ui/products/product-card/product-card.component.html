<div
  *ngIf="product() as product"
  [routerLink]="['/products', product.id, product.slug]"
  class="border border-slate-200 rounded-3xl overflow-hidden cursor-pointer hover:shadow-lg hover:shadow-indigo-100 shadow-sm shadow-indigo-100 transition group"
  [class]="viewType() === 'list' ? 'flex items-center' : ''">
  <!-- Product Header -->
  <div
    class="bg-slate-50 overflow-hidden relative"
    [class]="viewType() === 'grid' ? 'h-72' : 'h-32 w-32'">
    <img
      [src]="product.images[0].url"
      [alt]="product.name"
      width="500"
      height="600"
      class="object-cover object-center group-hover:scale-110 transition duration-500" />
    @if (viewType() === 'grid') {
    <div class="flex justify-center w-full absolute bottom-5 left-0 z-10">
      @if (alreadyAddedToCart()) {
      <div
        class="bg-white transition opacity-0 translate-y-5 group-hover:translate-y-0 hover:bg-indigo-50 hover:scale-105 rounded-full text-xs py-2 px-3 flex items-center justify-center group-hover:opacity-100">
        <div
          class="size-6 bg-green-500 rounded-full flex items-center justify-center text-white mr-2">
          <i class="lni lni-check-circle-1"></i>
        </div>
        <span>Added to cart</span>
      </div>
      }@else {
      <button
        (click)="onAddToCart($event)"
        class="bg-white transition opacity-0 translate-y-5 group-hover:translate-y-0 hover:bg-indigo-50 hover:scale-105 rounded-full text-xs py-2 px-3 flex items-center justify-center group-hover:opacity-100"
        title="Add to Cart"
        type="button">
        <div
          class="size-6 bg-indigo-600 rounded-full flex items-center justify-center text-white mr-2">
          <i class="lni lni-cart-2"></i>
        </div>
        <span>Add to Cart</span>
      </button>
      }
    </div>
    }
  </div>
  <!-- Product Information -->
  <div class="p-4 w-full space-y-3">
    <div class="flex w-full items-center">
      <!-- Category -->
      <div class="flex-1 text-xs font-light">
        {{ product.collection.name }}
      </div>

      <app-product-rating [rating]="product.rating" />
    </div>
    <p class="text-slate-500">{{ product.name }}</p>
    <p class="font-bold text-primary tracking-wide text-xl text-slate-600">
      {{ product.price | currency : 'EUR' : 'symbol' : '1.0-0' }}
    </p>
  </div>
</div>
