<div *ngIf="product() as product">
  <!-- Breadcrumbs -->
  <div class="my-14">
    <app-container>
      <nav class="flex" aria-label="Breadcrumb">
        <ol
          class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"
        >
          <li class="inline-flex items-center">
            <a
              [routerLink]="['']"
              class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"
            >
              <i class="lni lni-home-2"></i>
            </a>
          </li>
          <li>
            <div class="flex items-center">
              <svg
                class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 6 10"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 9 4-4-4-4"
                />
              </svg>
              <a
                class="ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white"
                >{{ product.collection.name }}</a
              >
            </div>
          </li>
          <li aria-current="page">
            <div class="flex items-center">
              <svg
                class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 6 10"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 9 4-4-4-4"
                />
              </svg>
              <span
                class="ms-1 text-sm font-medium text-gray-500 md:ms-2 dark:text-gray-400"
                >{{ product.name }}</span
              >
            </div>
          </li>
        </ol>
      </nav>
    </app-container>
  </div>

  <!-- Product View -->
  <section class="my-14">
    <app-container>
      <div class="grid grid-cols-5 gap-5">
        <!-- Image Preview -->
        <div class="col-span-2">
          <app-image-preview [images]="product.images" />
        </div>
        <!-- Product Details -->
        <div class="col-span-3">
          <h3>{{ product.name }}</h3>
          <p class="text-slate-400 font-light">SKU: {{ product.id }}</p>

          <div class="my-5 flex items-center">
            <app-product-rating [rating]="product.rating" />
            <span class="ml-2 text-slate-300">| </span>
            <span class="ml-2">
              {{ review_count * product.rating }} Reviews</span
            >
          </div>
          <p class="mb-10 font-medium text-3xl">
            {{ product.price | currency : "EUR" : "symbol" : "1.0-0" }}
          </p>

          <h6 class="font-medium">Product Description</h6>

          <p class="tracking-wide font-light">{{ product.description }}</p>

          @if(addedToCart()) {
          <div class="mt-10 text-xl rounded-xl bg-primary text-white p-4">
            <div class="flex items-center">
              <i class="lni lni-check-circle-1 text-3xl mr-4"></i>

              <span
                ><b>{{ quantity() }}</b> Item{{
                  quantity() > 1 ? "s" : ""
                }}
                added to cart!</span
              >
            </div>
          </div>
          }@else {
          <div class="mt-10">
            <label
              class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
              >Choose quantity:</label
            >
          </div>
          <div class="flex items-center">
            <app-quantity-selector [quantity]="quantity" />
            <app-button (click)="onAddToCart()" class="ms-3" type="submit"
              >Add to Cart</app-button
            >
          </div>
          }
        </div>
      </div>
    </app-container>
  </section>
</div>
